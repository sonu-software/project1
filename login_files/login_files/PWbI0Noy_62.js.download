;/*FB_PKG_DELIM*/

__d("CAAWebLoggingUtils",["CAAWebAccessFlowVersionSingleton","CAAWebEventRequestIdSingleton","CAAWebWaterfallIdSingleton","CaaAccountRecoveryClientEventsFbFalcoEvent","CaaAccountRecoveryClientEventsIgFalcoEvent","CaaAccountRecoveryClientEventsRlFalcoEvent","CaaAcquisitionClientEventsRlFalcoEvent","CaaAcquisitionClientFbEventFalcoEvent","CaaAcquisitionClientIgEventFalcoEvent","CaaAymhClientEventsFbFalcoEvent","CaaAymhClientEventsIgFalcoEvent","CaaAymhClientEventsRlFalcoEvent","CaaLoginClientEventsFbMsgrFalcoEvent","CaaLoginClientEventsIgFalcoEvent","CaaLoginClientEventsRlFalcoEvent","PolarisSiteData","PolarisUA","gkx","objectEntries","qex","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=["ntp_source_platform","state"],i=["ntp_source_platform","state"];function j(a,b){var d=a.account_recovery_params,e=a.acquisition_client_params,f=a.aymh_params,g=a.login_params;a=b.access_flow_version!=null?b.access_flow_version:null;var i=babelHelpers["extends"]({},b,{access_flow_version:a,event:b.event,event_category:b.event_category,event_flow:b.event_flow,event_step:b.event_step,extra_client_data:t((a=b.extra_client_data)!=null?a:{}),ig_did_override:c("PolarisSiteData").device_id,ig_mid_override:c("PolarisSiteData").machine_id});if(d!=null)c("CaaAccountRecoveryClientEventsIgFalcoEvent").logImmediately(function(){return{account_recovery_params:d,core:i}});else if(g!=null)c("CaaLoginClientEventsIgFalcoEvent").logImmediately(function(){return{core:i,login_params:g}});else if(e!=null){e.ntp_source_platform;var j=e.state,k=babelHelpers.objectWithoutPropertiesLoose(e,h);c("CaaAcquisitionClientIgEventFalcoEvent").logImmediately(function(){return{acquisition_client_params:babelHelpers["extends"]({},k,{state:j==null?null:j}),core:i}})}else f!=null&&c("CaaAymhClientEventsIgFalcoEvent").logImmediately(function(){return{aymh_params:f,core:i}})}function k(a,b){var d=a.account_recovery_params,e=a.acquisition_client_params,f=a.aymh_params,g=a.login_params;a=b.access_flow_version!=null?b.access_flow_version:null;var h=babelHelpers["extends"]({},b,{access_flow_version:a,event:b.event,event_category:b.event_category,event_flow:b.event_flow,event_step:b.event_step,extra_client_data:t((a=b.extra_client_data)!=null?a:{})});if(d!=null)c("CaaAccountRecoveryClientEventsFbFalcoEvent").logImmediately(function(){return{account_recovery_params:d,core:h}});else if(g!=null)c("CaaLoginClientEventsFbMsgrFalcoEvent").logImmediately(function(){return{core:h,login_params:g}});else if(e!=null){e.ntp_source_platform;var j=e.state,k=babelHelpers.objectWithoutPropertiesLoose(e,i);c("CaaAcquisitionClientFbEventFalcoEvent").logImmediately(function(){return{acquisition_client_params:babelHelpers["extends"]({},k,{state:j==null?null:j}),core:h}})}else f!=null&&c("CaaAymhClientEventsFbFalcoEvent").logImmediately(function(){return{aymh_params:f,core:h}})}function l(a,b){var d=a.account_recovery_params,e=a.acquisition_client_params,f=a.aymh_params,g=a.login_params;a=b.access_flow_version!=null?b.access_flow_version:null;var h=babelHelpers["extends"]({},b,{access_flow_version:a,event:b.event,event_category:b.event_category,event_flow:b.event_flow,event_step:b.event_step,extra_client_data:t((a=b.extra_client_data)!=null?a:{})});if(d!=null)c("CaaAccountRecoveryClientEventsRlFalcoEvent").logCritical(function(){return{account_recovery_params:d,core:h}});else if(g!=null)c("CaaLoginClientEventsRlFalcoEvent").logCritical(function(){return{core:h,login_params:g}});else if(e!=null){var i=e.state;c("CaaAcquisitionClientEventsRlFalcoEvent").logCritical(function(){var a;return{acquisition_client_params:babelHelpers["extends"]({},e,{state:u(i,(a=b.extra_client_data)==null?void 0:a.error_code)}),core:h}})}else f!=null&&c("CaaAymhClientEventsRlFalcoEvent").logCritical(function(){return{aymh_params:f,core:h}})}function m(a,b){var c=n(a.core_logging_data);b===0?k(a,c):b===1?j(a,c):b===4&&l(a,c)}function n(a){var b=c("CAAWebWaterfallIdSingleton").getWaterfallID();b===void 0&&(b=c("uuidv4")(),c("CAAWebWaterfallIdSingleton").setWaterfallID(b));a.waterfall_id=b;a.event_request_id=c("CAAWebEventRequestIdSingleton").getEventRequestID();o();a.access_flow_version=c("CAAWebAccessFlowVersionSingleton").getAccessFlowVersion();return a}function o(){if(c("CAAWebAccessFlowVersionSingleton").getAccessFlowVersion()==="LEGACY_FLOW"){var a,b,d,e,f;a=(a=c("qex")._("324"))!=null?a:!1;b=(b=c("qex")._("1250"))!=null?b:!1;d=(d=c("qex")._("1003"))!=null?d:!1;e=(e=c("gkx")("579"))!=null?e:!1;f=(f=c("gkx")("8772"))!=null?f:!1;a||d||e?c("CAAWebAccessFlowVersionSingleton").setAccessFlowVersion("F3_FLOW"):b?c("CAAWebAccessFlowVersionSingleton").setAccessFlowVersion("F2_FLOW"):f?c("CAAWebAccessFlowVersionSingleton").setAccessFlowVersion("LEGACY_FLOW"):c("CAAWebAccessFlowVersionSingleton").setAccessFlowVersion("F2_FLOW")}}function a(a){a={event:"redirection_to_checkpoint",event_category:"checkpoint",event_flow:"checkpoint",event_step:"checkpoint_redirect",extra_client_data:{login_source:a}};a={core_logging_data:a,login_params:{}};m(a,1)}function b(a){if(!d("PolarisUA").isMobile())return;var b=c("gkx")("6708")||c("gkx")("6181");if(!b)return;b={event:a,event_category:"spi",event_flow:"logged_out_login_spi",event_step:"home_page"};a={core_logging_data:b,login_params:{}};m(a,1)}function e(a,b){if(d("PolarisUA").isMobile())return;a={event:a,event_category:"spi",event_flow:"logged_out_login_spi",event_step:"home_page"};a={core_logging_data:a,login_params:{}};m(a,b)}function f(a,b){a={core_logging_data:a,login_params:{}};m(a,b)}function p(a,b){b===void 0&&(b=null);a={event:a,event_category:"ig_mweb_client_sync_to_server",event_flow:"aymh",event_step:"ig_mweb_client_sync_to_server",extra_client_data:b};q(a,1)}function q(a,b){a={aymh_params:{},core_logging_data:a};m(a,b)}function r(a,b,c){b={account_recovery_params:b,core_logging_data:a};m(b,c)}function s(a,b,c){b={acquisition_client_params:b,core_logging_data:a};m(b,c)}function t(a){return Object.fromEntries(c("objectEntries")(a!=null?a:{}).map(function(a){var b=a[0];a=a[1];return[b,a]}))}function u(a,b){return a==null?null:a==="error_code"?b:a}g.setAccessFlowVersionSingleton=o;g.logmWebCheckpointedEvent=a;g.logMWebLoginSPIEvent=b;g.logWebLoginSPIEvent=e;g.logLoginEvent=f;g.logIGmWebAymhClientSyncEvent=p;g.logAymhEvent=q;g.logArEvent=r;g.logRegEvent=s}),98);